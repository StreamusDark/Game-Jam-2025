[gd_scene load_steps=30 format=3 uid="uid://c7gficdq3463"]

[ext_resource type="Script" uid="uid://dds4tkqyratt0" path="res://Scenes/Prototyping/PrototypeCoffeeSim.gd" id="1_mifmu"]
[ext_resource type="Texture2D" uid="uid://btgw1g36oqly" path="res://Scenes/Prototyping/CoffeeMachine/machine.png" id="2_qqsrl"]
[ext_resource type="Texture2D" uid="uid://c3kjtu0o6pyua" path="res://Scenes/Prototyping/CoffeeMachine/liquid_button.png" id="3_74vje"]
[ext_resource type="Texture2D" uid="uid://bddup3yptyeo5" path="res://Scenes/Prototyping/CoffeeMachine/steam_button.png" id="3_hk33k"]
[ext_resource type="Texture2D" uid="uid://cf0dekp4qsyp6" path="res://Scenes/Prototyping/CoffeeMachine/button_outline.png" id="4_d1n2f"]
[ext_resource type="Texture2D" uid="uid://b0at02nheylfu" path="res://Scenes/Prototyping/CoffeeMachine/CoffeeComps/coffee_back.png" id="4_l2ffj"]
[ext_resource type="Texture2D" uid="uid://cqm1opcul4qdx" path="res://Scenes/Prototyping/CoffeeMachine/steam_tap.png" id="5_0pyig"]
[ext_resource type="Texture2D" uid="uid://dpugwqi5lcww5" path="res://Scenes/Prototyping/CoffeeMachine/CoffeeComps/coffee_liquid.png" id="5_qvqh4"]
[ext_resource type="Texture2D" uid="uid://ffah6f4ehsqe" path="res://Scenes/Prototyping/CoffeeMachine/CoffeeComps/coffee_front.png" id="5_rho41"]
[ext_resource type="Texture2D" uid="uid://p45k4b38qigy" path="res://Entities/DialogueMenu/DialogueTexture.png" id="6_qn5ym"]
[ext_resource type="Texture2D" uid="uid://c7h8pnupi8anj" path="res://Scenes/Prototyping/CoffeeMachine/cups_button.png" id="7_7p6l6"]
[ext_resource type="Texture2D" uid="uid://do60kff6i1it" path="res://Scenes/Prototyping/CoffeeMachine/CoffeeComps/coffee_outline.png" id="7_h5omg"]
[ext_resource type="FontFile" uid="uid://db1mivm1mc3hf" path="res://Assets/Fonts/Belajar Menulis.otf" id="8_h5omg"]
[ext_resource type="Texture2D" uid="uid://bum0y3tnda8ly" path="res://Scenes/Prototyping/CoffeeMachine/cups_button_outline.png" id="8_pkxhv"]
[ext_resource type="Texture2D" uid="uid://dor1jbks2vd0g" path="res://icon.svg" id="10_fl8i1"]
[ext_resource type="Texture2D" uid="uid://c524603wfbtv0" path="res://Entities/DialogueMenu/DialogueTextureOutline.png" id="11_q2g1w"]

[sub_resource type="Gradient" id="Gradient_0pyig"]
offsets = PackedFloat32Array(0.49411765, 1)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_d1n2f"]
gradient = SubResource("Gradient_0pyig")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_0pyig"]
particle_flag_disable_z = true
angle_min = -69.99999
angle_max = 70.000015
direction = Vector3(0, 0, 0)
spread = 8.0
initial_velocity_min = 20.0
initial_velocity_max = 25.0
gravity = Vector3(0, -50, 0)
scale_min = 20.0
scale_max = 25.0
color = Color(0.96, 1, 0.994, 0.14509805)
color_ramp = SubResource("GradientTexture1D_d1n2f")

[sub_resource type="Gradient" id="Gradient_d1n2f"]
colors = PackedColorArray(0.31431612, 0.31431612, 0.3143161, 1, 0.55, 0.34466666, 0.11, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_7p6l6"]
gradient = SubResource("Gradient_d1n2f")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_d1n2f"]
particle_flag_disable_z = true
gravity = Vector3(0, 98, 0)
scale_min = 11.0
scale_max = 20.0
color = Color(0.66, 0.50116, 0.4092, 1)
color_ramp = SubResource("GradientTexture1D_7p6l6")

[sub_resource type="LabelSettings" id="LabelSettings_h5omg"]
line_spacing = -24.0
font = ExtResource("8_h5omg")
font_size = 25
font_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_qn5ym"]
line_spacing = -9.0
font = ExtResource("8_h5omg")
font_size = 25
font_color = Color(0, 0, 0, 1)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_pkxhv"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_l2ffj"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_rho41"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_qvqh4"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_qn5ym"]

[node name="PrototypeCoffeSim" type="Control" node_paths=PackedStringArray("current_cup", "current_cup_options", "liquid_button", "liquid_effect", "steam_button", "steam_effect", "cups_button", "cup_type_display")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_mifmu")
current_cup = NodePath("Machine/CoffeeCup")
current_cup_options = NodePath("Machine/CoffeeCup/CoffeeOptions")
liquid_button = NodePath("Machine/LiquidButton")
liquid_effect = NodePath("Machine/CoffeeCup/CoffeeEffect")
steam_button = NodePath("Machine/SteamButton")
steam_effect = NodePath("Machine/SteamEffect")
cups_button = NodePath("Machine/CupsButton")
cup_type_display = NodePath("Machine/CoffeeCup/CoffeeTypeContainer/CoffeeType")

[node name="BG" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.7019608)
metadata/_edit_lock_ = true

[node name="Machine" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(600.00006, 408.00003)
scale = Vector2(3.3581393, 3.3581393)
texture = ExtResource("2_qqsrl")

[node name="SteamTap" type="TextureRect" parent="Machine"]
offset_left = -29.18277
offset_top = -29.182823
offset_right = 24.716064
offset_bottom = 27.396103
pivot_offset = Vector2(27, 0)
texture = ExtResource("5_0pyig")
expand_mode = 1

[node name="SteamEffect" type="GPUParticles2D" parent="Machine"]
position = Vector2(14.889252, 27.693878)
rotation = 1.5707964
scale = Vector2(0.99999994, 0.99999994)
emitting = false
amount = 160
lifetime = 4.5
process_material = SubResource("ParticleProcessMaterial_0pyig")

[node name="CoffeeCup" type="Sprite2D" parent="Machine"]
position = Vector2(-75.93489, 36.62742)
scale = Vector2(0.9999998, 0.9999998)
texture = ExtResource("4_l2ffj")

[node name="CoffeeColouring" type="Sprite2D" parent="Machine/CoffeeCup"]
self_modulate = Color(0.19, 0.09072501, 0.0095000025, 1)
texture = ExtResource("5_qvqh4")

[node name="Hover" type="Sprite2D" parent="Machine/CoffeeCup"]
scale = Vector2(0.9999999, 0.9999999)
texture = ExtResource("7_h5omg")

[node name="CoffeeEffect" type="GPUParticles2D" parent="Machine/CoffeeCup"]
position = Vector2(-5.360321, -39.12738)
scale = Vector2(1.0000001, 1.0000001)
emitting = false
amount = 15
lifetime = 1.75
trail_enabled = true
process_material = SubResource("ParticleProcessMaterial_d1n2f")

[node name="CoffeeFront" type="Sprite2D" parent="Machine/CoffeeCup"]
texture = ExtResource("5_rho41")

[node name="CoffeeTypeContainer" type="NinePatchRect" parent="Machine/CoffeeCup"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -78.84761
offset_top = -44.965393
offset_right = 6.318527
offset_bottom = -32.052628
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("6_qn5ym")
region_rect = Rect2(0, 0, 12, 12)
patch_margin_left = 5
patch_margin_top = 5
patch_margin_right = 5
patch_margin_bottom = 5

[node name="CoffeeType" type="Label" parent="Machine/CoffeeCup/CoffeeTypeContainer"]
texture_filter = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.2977004
offset_top = -0.1897521
offset_right = 198.02634
offset_bottom = 30.897484
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.3, 0.3)
text = "Double Espresso"
label_settings = SubResource("LabelSettings_h5omg")
horizontal_alignment = 1
vertical_alignment = 1

[node name="CoffeeClick" type="Button" parent="Machine/CoffeeCup"]
self_modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -31.5
offset_top = -33.297783
offset_right = -31.5
offset_bottom = -33.297783
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2

[node name="CoffeeOptions" type="VBoxContainer" parent="Machine/CoffeeCup"]
offset_left = 23.52494
offset_top = -34.245163
offset_right = 92.90858
offset_bottom = 20.35456
theme_override_constants/separation = 1
alignment = 2

[node name="Serve" type="NinePatchRect" parent="Machine/CoffeeCup/CoffeeOptions"]
self_modulate = Color(0.59150004, 1, 0.57, 1)
texture_filter = 1
custom_minimum_size = Vector2(40, 12)
layout_mode = 2
texture = ExtResource("6_qn5ym")
region_rect = Rect2(0, 0, 12, 12)
patch_margin_left = 5
patch_margin_top = 5
patch_margin_right = 5
patch_margin_bottom = 5

[node name="ActionName" type="Label" parent="Machine/CoffeeCup/CoffeeOptions/Serve"]
texture_filter = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 16.37799
offset_top = -1.4085693
offset_right = 124.06326
offset_bottom = 30.59143
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.3, 0.3)
text = "Serve"
label_settings = SubResource("LabelSettings_qn5ym")
vertical_alignment = 1

[node name="Icon" type="Sprite2D" parent="Machine/CoffeeCup/CoffeeOptions/Serve"]
position = Vector2(11.018555, 5.657715)
scale = Vector2(0.05117252, 0.05117252)
texture = ExtResource("10_fl8i1")

[node name="Hover" type="NinePatchRect" parent="Machine/CoffeeCup/CoffeeOptions/Serve"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("11_q2g1w")
patch_margin_left = 5
patch_margin_top = 5
patch_margin_right = 5
patch_margin_bottom = 5

[node name="Button" type="Button" parent="Machine/CoffeeCup/CoffeeOptions/Serve"]
self_modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2

[node name="Discard" type="NinePatchRect" parent="Machine/CoffeeCup/CoffeeOptions"]
self_modulate = Color(0.8781667, 0.57, 1, 1)
texture_filter = 1
custom_minimum_size = Vector2(40, 12)
layout_mode = 2
texture = ExtResource("6_qn5ym")
region_rect = Rect2(0, 0, 12, 12)
patch_margin_left = 5
patch_margin_top = 5
patch_margin_right = 5
patch_margin_bottom = 5

[node name="ActionName" type="Label" parent="Machine/CoffeeCup/CoffeeOptions/Discard"]
texture_filter = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 16.37799
offset_top = -1.4085693
offset_right = 124.06326
offset_bottom = 30.59143
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.3, 0.3)
text = "Discard"
label_settings = SubResource("LabelSettings_qn5ym")
vertical_alignment = 1

[node name="Icon" type="Sprite2D" parent="Machine/CoffeeCup/CoffeeOptions/Discard"]
position = Vector2(11.018555, 5.657715)
scale = Vector2(0.05117252, 0.05117252)
texture = ExtResource("10_fl8i1")

[node name="Hover" type="NinePatchRect" parent="Machine/CoffeeCup/CoffeeOptions/Discard"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("11_q2g1w")
patch_margin_left = 5
patch_margin_top = 5
patch_margin_right = 5
patch_margin_bottom = 5

[node name="Button" type="Button" parent="Machine/CoffeeCup/CoffeeOptions/Discard"]
self_modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2

[node name="Cancel" type="NinePatchRect" parent="Machine/CoffeeCup/CoffeeOptions"]
texture_filter = 1
custom_minimum_size = Vector2(40, 12)
layout_mode = 2
texture = ExtResource("6_qn5ym")
region_rect = Rect2(0, 0, 12, 12)
patch_margin_left = 5
patch_margin_top = 5
patch_margin_right = 5
patch_margin_bottom = 5

[node name="ActionName" type="Label" parent="Machine/CoffeeCup/CoffeeOptions/Cancel"]
texture_filter = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 16.37799
offset_top = -1.4085693
offset_right = 124.06326
offset_bottom = 30.59143
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.3, 0.3)
text = "Cancel"
label_settings = SubResource("LabelSettings_qn5ym")
vertical_alignment = 1

[node name="Icon" type="Sprite2D" parent="Machine/CoffeeCup/CoffeeOptions/Cancel"]
position = Vector2(11.018555, 5.657715)
scale = Vector2(0.05117252, 0.05117252)
texture = ExtResource("10_fl8i1")

[node name="Hover" type="NinePatchRect" parent="Machine/CoffeeCup/CoffeeOptions/Cancel"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("11_q2g1w")
patch_margin_left = 5
patch_margin_top = 5
patch_margin_right = 5
patch_margin_bottom = 5

[node name="Button" type="Button" parent="Machine/CoffeeCup/CoffeeOptions/Cancel"]
self_modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2

[node name="LiquidButton" type="TextureButton" parent="Machine"]
texture_filter = 1
offset_left = -94.92099
offset_top = -57.69779
offset_right = -67.92099
offset_bottom = -31.332788
mouse_default_cursor_shape = 2
texture_normal = ExtResource("3_74vje")
texture_pressed = ExtResource("3_74vje")

[node name="Hover" type="TextureRect" parent="Machine/LiquidButton"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -0.9654541
offset_top = -1.3371096
offset_right = 1.0345459
offset_bottom = 0.29789162
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("4_d1n2f")

[node name="SteamButton" type="TextureButton" parent="Machine"]
texture_filter = 1
offset_left = -19.89154
offset_top = -57.69793
offset_right = 7.1084595
offset_bottom = -31.33293
mouse_default_cursor_shape = 2
texture_normal = ExtResource("3_hk33k")
texture_pressed = ExtResource("3_hk33k")

[node name="Hover" type="TextureRect" parent="Machine/SteamButton"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -0.9654541
offset_top = -0.81739616
offset_right = 1.0345459
offset_bottom = 0.81739616
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("4_d1n2f")

[node name="CupsButton" type="Button" parent="Machine"]
offset_left = 62.832413
offset_top = -87.25074
offset_right = 137.83241
offset_bottom = 90.74926
mouse_default_cursor_shape = 2
theme_override_styles/normal = SubResource("StyleBoxEmpty_pkxhv")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_l2ffj")
theme_override_styles/hover = SubResource("StyleBoxEmpty_rho41")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_qvqh4")
theme_override_styles/focus = SubResource("StyleBoxEmpty_qn5ym")
icon = ExtResource("7_7p6l6")
flat = true

[node name="Hover" type="TextureRect" parent="Machine/CupsButton"]
visible = false
layout_mode = 0
offset_left = -1.7867126
offset_top = 2.3822746
offset_right = 69.21329
offset_bottom = 176.38228
mouse_filter = 2
texture = ExtResource("8_pkxhv")

[connection signal="mouse_entered" from="Machine/CoffeeCup/CoffeeClick" to="." method="current_coffee_hover_enter"]
[connection signal="mouse_exited" from="Machine/CoffeeCup/CoffeeClick" to="." method="current_coffee_hover_exited"]
[connection signal="pressed" from="Machine/CoffeeCup/CoffeeClick" to="." method="current_coffee_pressed"]
[connection signal="pressed" from="Machine/CoffeeCup/CoffeeOptions/Serve/Button" to="." method="serve_drink_pressed"]
[connection signal="mouse_entered" from="Machine/LiquidButton" to="." method="liquid_button_hover_enter"]
[connection signal="mouse_exited" from="Machine/LiquidButton" to="." method="liquid_button_hover_exit"]
[connection signal="pressed" from="Machine/LiquidButton" to="." method="liquid_button_pressed"]
[connection signal="button_down" from="Machine/SteamButton" to="." method="steam_button_down"]
[connection signal="button_up" from="Machine/SteamButton" to="." method="steam_button_up"]
[connection signal="mouse_entered" from="Machine/SteamButton" to="." method="steam_button_hover_enter"]
[connection signal="mouse_exited" from="Machine/SteamButton" to="." method="steam_button_hover_exit"]
[connection signal="mouse_entered" from="Machine/CupsButton" to="." method="cups_button_hover_enter"]
[connection signal="mouse_exited" from="Machine/CupsButton" to="." method="cups_button_hover_exited"]
[connection signal="pressed" from="Machine/CupsButton" to="." method="cup_button_pressed"]
